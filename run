#!/usr/bin/env php
<?php

ini_set('display_errors', '1');
error_reporting(E_ALL);

try {
	//	Models are loaded with the Composer autoloader.
	require __DIR__ . '/vendor/autoload.php';

	(new Phalcon\Loader())
		->registerDirs([__DIR__ . '/app/tasks/'])
		->register();

	(new Service\Application\Cli(__DIR__))
		->init()
		->run($argv);
}
catch (Throwable $t) {
	fwrite(STDERR, $t . PHP_EOL);
}
